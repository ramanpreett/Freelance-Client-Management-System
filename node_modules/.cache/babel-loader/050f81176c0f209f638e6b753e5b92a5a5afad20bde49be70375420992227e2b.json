{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import ClientForm from\"./ClientForm\";import ClientList from\"./ClientList\";import AutomationPanel from\"./AutomationPanel\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL+\"/api/clients\";const Clients=()=>{const[clients,setClients]=useState([]);const[showAutomation,setShowAutomation]=useState(false);const fetchClients=async()=>{const res=await axios.get(API_URL,{headers:{Authorization:localStorage.getItem(\"token\")}});setClients(res.data);};useEffect(()=>{fetchClients();},[]);const addClient=async client=>{await axios.post(API_URL,client,{headers:{Authorization:localStorage.getItem(\"token\")}});fetchClients();};const deleteClient=async id=>{await axios.delete(\"\".concat(API_URL,\"/\").concat(id),{headers:{Authorization:localStorage.getItem(\"token\")}});fetchClients();};const handleClientCreated=newClient=>{fetchClients();// Refresh the client list\n};return/*#__PURE__*/_jsxs(\"section\",{className:\"bg-white rounded shadow p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Clients\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAutomation(!showAutomation),className:\"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700\",children:showAutomation?'Hide Automation':'ðŸ¤– Automation'})]}),showAutomation&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(AutomationPanel,{onClientCreated:handleClientCreated})}),/*#__PURE__*/_jsx(ClientForm,{onSave:addClient}),/*#__PURE__*/_jsx(ClientList,{clients:clients,onDelete:deleteClient})]});};export default Clients;","map":{"version":3,"names":["React","useEffect","useState","axios","ClientForm","ClientList","AutomationPanel","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","Clients","clients","setClients","showAutomation","setShowAutomation","fetchClients","res","get","headers","Authorization","localStorage","getItem","data","addClient","client","post","deleteClient","id","delete","concat","handleClientCreated","newClient","className","children","onClick","onClientCreated","onSave","onDelete"],"sources":["C:/Users/raman/OneDrive/Desktop/project/client/src/components/Clients.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport ClientForm from \"./ClientForm\";\nimport ClientList from \"./ClientList\";\nimport AutomationPanel from \"./AutomationPanel\";\n\nconst API_URL = process.env.REACT_APP_API_URL + \"/api/clients\";\n\nconst Clients = () => {\n  const [clients, setClients] = useState([]);\n  const [showAutomation, setShowAutomation] = useState(false);\n\n  const fetchClients = async () => {\n    const res = await axios.get(API_URL, { headers: { Authorization: localStorage.getItem(\"token\") } });\n    setClients(res.data);\n  };\n\n  useEffect(() => {\n    fetchClients();\n  }, []);\n\n  const addClient = async (client) => {\n    await axios.post(API_URL, client, { headers: { Authorization: localStorage.getItem(\"token\") } });\n    fetchClients();\n  };\n\n  const deleteClient = async (id) => {\n    await axios.delete(`${API_URL}/${id}`, { headers: { Authorization: localStorage.getItem(\"token\") } });\n    fetchClients();\n  };\n\n  const handleClientCreated = (newClient) => {\n    fetchClients(); // Refresh the client list\n  };\n\n  return (\n    <section className=\"bg-white rounded shadow p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-xl font-semibold\">Clients</h2>\n        <button\n          onClick={() => setShowAutomation(!showAutomation)}\n          className=\"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700\"\n        >\n          {showAutomation ? 'Hide Automation' : 'ðŸ¤– Automation'}\n        </button>\n      </div>\n      \n      {showAutomation && (\n        <div className=\"mb-6\">\n          <AutomationPanel onClientCreated={handleClientCreated} />\n        </div>\n      )}\n      \n      <ClientForm onSave={addClient} />\n      <ClientList clients={clients} onDelete={deleteClient} />\n    </section>\n  );\n};\n\nexport default Clients;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAG,cAAc,CAE9D,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACgB,cAAc,CAAEC,iBAAiB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE3D,KAAM,CAAAkB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAACX,OAAO,CAAE,CAAEY,OAAO,CAAE,CAAEC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE,CAAE,CAAC,CAAC,CACnGT,UAAU,CAACI,GAAG,CAACM,IAAI,CAAC,CACtB,CAAC,CAED1B,SAAS,CAAC,IAAM,CACdmB,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAQ,SAAS,CAAG,KAAO,CAAAC,MAAM,EAAK,CAClC,KAAM,CAAA1B,KAAK,CAAC2B,IAAI,CAACnB,OAAO,CAAEkB,MAAM,CAAE,CAAEN,OAAO,CAAE,CAAEC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE,CAAE,CAAC,CAAC,CAChGN,YAAY,CAAC,CAAC,CAChB,CAAC,CAED,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CACjC,KAAM,CAAA7B,KAAK,CAAC8B,MAAM,IAAAC,MAAA,CAAIvB,OAAO,MAAAuB,MAAA,CAAIF,EAAE,EAAI,CAAET,OAAO,CAAE,CAAEC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE,CAAE,CAAC,CAAC,CACrGN,YAAY,CAAC,CAAC,CAChB,CAAC,CAED,KAAM,CAAAe,mBAAmB,CAAIC,SAAS,EAAK,CACzChB,YAAY,CAAC,CAAC,CAAE;AAClB,CAAC,CAED,mBACEV,KAAA,YAAS2B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC9C5B,KAAA,QAAK2B,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD9B,IAAA,OAAI6B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cAClD9B,IAAA,WACE+B,OAAO,CAAEA,CAAA,GAAMpB,iBAAiB,CAAC,CAACD,cAAc,CAAE,CAClDmB,SAAS,CAAC,gEAAgE,CAAAC,QAAA,CAEzEpB,cAAc,CAAG,iBAAiB,CAAG,eAAe,CAC/C,CAAC,EACN,CAAC,CAELA,cAAc,eACbV,IAAA,QAAK6B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB9B,IAAA,CAACF,eAAe,EAACkC,eAAe,CAAEL,mBAAoB,CAAE,CAAC,CACtD,CACN,cAED3B,IAAA,CAACJ,UAAU,EAACqC,MAAM,CAAEb,SAAU,CAAE,CAAC,cACjCpB,IAAA,CAACH,UAAU,EAACW,OAAO,CAAEA,OAAQ,CAAC0B,QAAQ,CAAEX,YAAa,CAAE,CAAC,EACjD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAhB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}